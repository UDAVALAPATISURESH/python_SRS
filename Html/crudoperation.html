<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        table{
            width: 100%;
            border-collapse: collapse;
        }
        th,td{
            border: 2px solid black;
            padding: 15px;
            text-align: center;
        }
    </style>
</head>
<body>
    <center>
        <form onsubmit="formsubmit()">
            <label>Fullname:</label>
            <input type="text" id="fullname" name="fullname"><br><br>
            <label>Email:</label>
            <input type="email" id="mail" name="mail"><br><br>
            <label>salary:</label>
            <input type="number" id="salary" name="salary"><br><br>
            <label>City:</label>
            <input type="text" id="city" name="city"><br><br>
            <input type="submit">
        </form><br><br>

        <table id="emp">
            <thead>
                <tr>
                    <th>Full name</th>
                    <th>Email</th>
                    <th>Salary</th>
                    <th>City</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </center>
    <script>
            let row=null
      function formsubmit(){
        event.preventDefault()

        let data= read()
        if(row==null){
        getdata(data)
        }
        else{
            updatedata(data)
        }
        reset()
      }

      function read(){
        let formdata={}
        formdata["fullname"]=document.getElementById("fullname").value
        formdata["email"]=document.getElementById("mail").value
        formdata["salary"]=document.getElementById("salary").value
        formdata["city"]=document.getElementById("city").value
        return formdata
      }

      function getdata(data){
        let table=document.getElementsByTagName("tbody")[0]
        let row=table.insertRow(table.length)

        cell1=row.insertCell(0)
        cell1.innerHTML=data.fullname

        cell2=row.insertCell(1)
        cell2.innerHTML=data.email

        cell3=row.insertCell(2)
        cell3.innerHTML=data.salary

        cell4=row.insertCell(3)
        cell4.innerHTML=data.city

        cell5=row.insertCell(4)
        cell5.innerHTML=`
        <button onclick="editdata(this)">Edit</button>
        <button onclick="deletedata(this)">Delete</button>
        `
      }

      function reset(){
        document.getElementById("fullname").value=""
        document.getElementById("mail").value=""
        document.getElementById("salary").value=""
        document.getElementById("city").value=""
      }

      function deletedata(td){
        row=td.parentElement.parentElement
         document.getElementById("emp").deleteRow(row.rowIndex)
      }

      function editdata(td){
        row=td.parentElement.parentElement
        document.getElementById("fullname").value=row.cells[0].innerHTML
        document.getElementById("mail").value=row.cells[1].innerHTML
        document.getElementById("salary").value=row.cells[2].innerHTML
        document.getElementById("city").value=row.cells[3].innerHTML
      }

      function updatedata(data){
        row.cells[0].innerHTML=data.fullname
        row.cells[1].innerHTML=data.email
        row.cells[2].innerHTML=data.salary
        row.cells[3].innerHTML=data.city
      }
    </script>
</body>
</html>